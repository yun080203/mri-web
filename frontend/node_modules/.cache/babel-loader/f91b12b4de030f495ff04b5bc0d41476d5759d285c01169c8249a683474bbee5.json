{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\mri-web-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// 导入 React 库中的 useState 和 useReducer 钩子，用于在函数组件中添加状态管理\nimport React, { useState, useReducer, useRef } from 'react';\n// 导入 axios 库，用于发送 HTTP 请求\nimport axios from 'axios';\n// 新增：导入 react-router-dom 中的 BrowserRouter 重命名为 Router，Routes 和 Route 组件\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\nimport DICOMViewer from './components/Viewer/DICOMViewer';\n// 导入 ImageViewer 和 ComparisonView 组件\nimport ImageViewer from './components/Viewer/ImageViewer';\nimport ComparisonView from './components/Viewer/ComparisonView';\nimport DataManager from './components/DataManagement/DataManager';\nimport './styles/dicom.css';\nimport './styles/App.css';\n// 新增环境变量配置\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\n\n// 使用useReducer整合状态\nconst initialState = {\n  taskId: null,\n  status: 'idle',\n  // 'idle' | 'uploading' | 'processing' | 'completed' | 'failed'\n  progress: 0,\n  result: null,\n  error: null\n};\nfunction uploadReducer(state, action) {\n  switch (action.type) {\n    case 'START_UPLOAD':\n      return {\n        ...state,\n        status: 'uploading',\n        progress: 0\n      };\n    case 'UPDATE_PROGRESS':\n      return {\n        ...state,\n        progress: action.payload\n      };\n    case 'PROCESS_START':\n      return {\n        ...state,\n        status: 'processing',\n        taskId: action.payload\n      };\n    case 'SUCCESS':\n      return {\n        ...state,\n        status: 'completed',\n        result: action.payload\n      };\n    case 'ERROR':\n      return {\n        ...state,\n        status: 'failed',\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n}\n\n// 定义一个名为 App 的函数组件，这是整个应用的根组件\nfunction App() {\n  _s();\n  // 使用 useState 钩子创建状态变量 selectedFile，用于存储用户选择的文件\n  const [selectedFile, setSelectedFile] = useState(null);\n  // 使用 useReducer 管理上传状态\n  const [state, dispatch] = useReducer(uploadReducer, initialState);\n  // 使用 useRef 创建取消令牌\n  const cancelTokenSource = useRef(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [processingProgress, setProcessingProgress] = useState(0);\n\n  // 定义一个处理文件选择事件的函数\n  const handleFileChange = e => {\n    setSelectedFile(e.target.files[0]);\n  };\n\n  // 添加可恢复上传功能\n  const handleUpload = async () => {\n    if (!selectedFile) return;\n    cancelTokenSource.current = axios.CancelToken.source();\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    formData.append('patient_name', '测试患者');\n    formData.append('patient_id', 'test-' + Date.now());\n    try {\n      dispatch({\n        type: 'START_UPLOAD'\n      });\n      console.log('开始上传文件:', selectedFile.name);\n      const response = await axios.post(`${API_BASE}/api/process`, formData, {\n        cancelToken: cancelTokenSource.current.token,\n        onUploadProgress: e => {\n          const progress = Math.round(e.loaded * 100 / e.total);\n          dispatch({\n            type: 'UPDATE_PROGRESS',\n            payload: progress\n          });\n        }\n      });\n      console.log('上传响应:', response.data);\n\n      // 获取图像预览\n      try {\n        const previewResponse = await axios.get(`${API_BASE}/api/preview/${selectedFile.name}`);\n        if (previewResponse.data.status === 'success') {\n          setPreviewImage(`data:image/png;base64,${previewResponse.data.image}`);\n        }\n      } catch (error) {\n        console.error('获取预览失败:', error);\n      }\n\n      // 启动轮询机制\n      const pollResult = async taskId => {\n        try {\n          console.log('开始轮询任务状态:', taskId);\n          const {\n            data\n          } = await axios.get(`${API_BASE}/api/tasks/${taskId}`);\n          console.log('任务状态:', data);\n\n          // 获取处理进度\n          try {\n            const progressResponse = await axios.get(`${API_BASE}/api/tasks/${taskId}/progress`);\n            if (progressResponse.data.status === 'success') {\n              setProcessingProgress(progressResponse.data.progress);\n            }\n          } catch (error) {\n            console.error('获取处理进度失败:', error);\n          }\n          if (data.status === 'completed') {\n            dispatch({\n              type: 'SUCCESS',\n              payload: data.results\n            });\n            return;\n          } else if (data.status === 'failed') {\n            throw new Error(data.error || '处理失败');\n          }\n          setTimeout(() => pollResult(taskId), 2000);\n        } catch (error) {\n          console.error('轮询错误:', error);\n          dispatch({\n            type: 'ERROR',\n            payload: error.message\n          });\n        }\n      };\n      pollResult(response.data.task_id);\n    } catch (error) {\n      console.error('上传错误:', error);\n      if (error.response) {\n        console.error('错误响应:', error.response.data);\n        dispatch({\n          type: 'ERROR',\n          payload: error.response.data.error || '上传失败'\n        });\n      } else if (error.request) {\n        console.error('未收到响应:', error.request);\n        dispatch({\n          type: 'ERROR',\n          payload: '服务器无响应'\n        });\n      } else {\n        console.error('请求错误:', error.message);\n        dispatch({\n          type: 'ERROR',\n          payload: error.message\n        });\n      }\n    }\n  };\n\n  // 组件卸载时取消所有请求\n  React.useEffect(() => {\n    return () => {\n      if (cancelTokenSource.current) {\n        cancelTokenSource.current.cancel('组件卸载，取消请求');\n      }\n    };\n  }, []);\n\n  // 返回 JSX 元素，用于渲染组件的 UI\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"main-nav\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/upload\",\n          children: \"\\u4E0A\\u4F20\\u56FE\\u50CF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/compare\",\n          children: \"\\u56FE\\u50CF\\u5BF9\\u6BD4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/data\",\n          children: \"\\u6570\\u636E\\u7BA1\\u7406\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"main-content\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"home-page\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"MRI\\u56FE\\u50CF\\u5904\\u7406\\u7CFB\\u7EDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u6B22\\u8FCE\\u4F7F\\u7528MRI\\u56FE\\u50CF\\u5904\\u7406\\u7CFB\\u7EDF\\uFF0C\\u8BF7\\u9009\\u62E9\\u4EE5\\u4E0B\\u529F\\u80FD\\uFF1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"feature-grid\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/upload\",\n                  className: \"feature-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\u4E0A\\u4F20\\u56FE\\u50CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u4E0A\\u4F20\\u5E76\\u5904\\u7406MRI\\u56FE\\u50CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/compare\",\n                  className: \"feature-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\u56FE\\u50CF\\u5BF9\\u6BD4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u5BF9\\u6BD4\\u539F\\u59CB\\u56FE\\u50CF\\u548C\\u5904\\u7406\\u7ED3\\u679C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/data\",\n                  className: \"feature-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\u6570\\u636E\\u7BA1\\u7406\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u7BA1\\u7406\\u60A3\\u8005\\u6570\\u636E\\u548C\\u62A5\\u544A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/upload\",\n            element: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-page\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"\\u4E0A\\u4F20MRI\\u56FE\\u50CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upload-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  onChange: handleFileChange,\n                  accept: \".dcm,.nii,.nii.gz\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleUpload,\n                  disabled: !selectedFile || state.status === 'uploading',\n                  children: state.status === 'uploading' ? '上传中...' : '上传'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this), state.status === 'uploading' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-bar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"progress\",\n                    style: {\n                      width: `${state.progress}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-text\",\n                  children: [\"\\u4E0A\\u4F20\\u8FDB\\u5EA6: \", state.progress, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 37\n              }, this), state.status === 'processing' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-bar\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"progress\",\n                    style: {\n                      width: `${processingProgress}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-text\",\n                  children: [\"\\u5904\\u7406\\u8FDB\\u5EA6: \", processingProgress, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 37\n              }, this), previewImage && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preview-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"\\u56FE\\u50CF\\u9884\\u89C8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: previewImage,\n                  alt: \"DICOM\\u9884\\u89C8\",\n                  className: \"preview-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 37\n              }, this), state.error && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"error-message\",\n                children: state.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/compare\",\n            element: /*#__PURE__*/_jsxDEV(ComparisonView, {\n              originalImage: selectedFile ? URL.createObjectURL(selectedFile) : null,\n              processedImage: state.result ? `${API_BASE}/uploads/${state.result}` : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/data\",\n            element: /*#__PURE__*/_jsxDEV(DataManager, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 9\n  }, this);\n}\n\n// 导出 App 组件，以便在其他文件中使用\n_s(App, \"5AyzPLBYA0WI6aH8M8b6hSWwyzg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useReducer","useRef","axios","BrowserRouter","Router","Routes","Route","Link","DICOMViewer","ImageViewer","ComparisonView","DataManager","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","initialState","taskId","status","progress","result","error","uploadReducer","state","action","type","payload","App","_s","selectedFile","setSelectedFile","dispatch","cancelTokenSource","previewImage","setPreviewImage","processingProgress","setProcessingProgress","handleFileChange","e","target","files","handleUpload","current","CancelToken","source","formData","FormData","append","Date","now","console","log","name","response","post","cancelToken","token","onUploadProgress","Math","round","loaded","total","data","previewResponse","get","image","pollResult","progressResponse","results","Error","setTimeout","message","task_id","request","useEffect","cancel","children","className","to","fileName","_jsxFileName","lineNumber","columnNumber","path","element","onChange","accept","onClick","disabled","style","width","src","alt","originalImage","URL","createObjectURL","processedImage","_c","$RefreshReg$"],"sources":["D:/GitHub/mri-web-app/frontend/src/App.js"],"sourcesContent":["// 导入 React 库中的 useState 和 useReducer 钩子，用于在函数组件中添加状态管理\r\nimport React, { useState, useReducer, useRef } from 'react';\r\n// 导入 axios 库，用于发送 HTTP 请求\r\nimport axios from 'axios';\r\n// 新增：导入 react-router-dom 中的 BrowserRouter 重命名为 Router，Routes 和 Route 组件\r\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\r\nimport DICOMViewer from './components/Viewer/DICOMViewer';\r\n// 导入 ImageViewer 和 ComparisonView 组件\r\nimport ImageViewer from './components/Viewer/ImageViewer';\r\nimport ComparisonView from './components/Viewer/ComparisonView';\r\nimport DataManager from './components/DataManagement/DataManager';\r\nimport './styles/dicom.css';\r\nimport './styles/App.css';\r\n// 新增环境变量配置\r\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000';\r\n\r\n// 使用useReducer整合状态\r\nconst initialState = {\r\n    taskId: null,\r\n    status: 'idle', // 'idle' | 'uploading' | 'processing' | 'completed' | 'failed'\r\n    progress: 0,\r\n    result: null,\r\n    error: null\r\n};\r\n\r\nfunction uploadReducer(state, action) {\r\n    switch (action.type) {\r\n        case 'START_UPLOAD':\r\n            return { ...state, status: 'uploading', progress: 0 };\r\n        case 'UPDATE_PROGRESS':\r\n            return { ...state, progress: action.payload };\r\n        case 'PROCESS_START':\r\n            return { ...state, status: 'processing', taskId: action.payload };\r\n        case 'SUCCESS':\r\n            return { ...state, status: 'completed', result: action.payload };\r\n        case 'ERROR':\r\n            return { ...state, status: 'failed', error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// 定义一个名为 App 的函数组件，这是整个应用的根组件\r\nfunction App() {\r\n    // 使用 useState 钩子创建状态变量 selectedFile，用于存储用户选择的文件\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n    // 使用 useReducer 管理上传状态\r\n    const [state, dispatch] = useReducer(uploadReducer, initialState);\r\n    // 使用 useRef 创建取消令牌\r\n    const cancelTokenSource = useRef(null);\r\n    const [previewImage, setPreviewImage] = useState(null);\r\n    const [processingProgress, setProcessingProgress] = useState(0);\r\n\r\n    // 定义一个处理文件选择事件的函数\r\n    const handleFileChange = (e) => {\r\n        setSelectedFile(e.target.files[0]);\r\n    };\r\n\r\n    // 添加可恢复上传功能\r\n    const handleUpload = async () => {\r\n        if (!selectedFile) return;\r\n\r\n        cancelTokenSource.current = axios.CancelToken.source();\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', selectedFile);\r\n        formData.append('patient_name', '测试患者');\r\n        formData.append('patient_id', 'test-' + Date.now());\r\n        \r\n        try {\r\n            dispatch({ type: 'START_UPLOAD' });\r\n            \r\n            console.log('开始上传文件:', selectedFile.name);\r\n            const response = await axios.post(`${API_BASE}/api/process`, formData, {\r\n                cancelToken: cancelTokenSource.current.token,\r\n                onUploadProgress: (e) => {\r\n                    const progress = Math.round((e.loaded * 100) / e.total);\r\n                    dispatch({ type: 'UPDATE_PROGRESS', payload: progress });\r\n                }\r\n            });\r\n\r\n            console.log('上传响应:', response.data);\r\n\r\n            // 获取图像预览\r\n            try {\r\n                const previewResponse = await axios.get(`${API_BASE}/api/preview/${selectedFile.name}`);\r\n                if (previewResponse.data.status === 'success') {\r\n                    setPreviewImage(`data:image/png;base64,${previewResponse.data.image}`);\r\n                }\r\n            } catch (error) {\r\n                console.error('获取预览失败:', error);\r\n            }\r\n\r\n            // 启动轮询机制\r\n            const pollResult = async (taskId) => {\r\n                try {\r\n                    console.log('开始轮询任务状态:', taskId);\r\n                    const { data } = await axios.get(`${API_BASE}/api/tasks/${taskId}`);\r\n                    console.log('任务状态:', data);\r\n                    \r\n                    // 获取处理进度\r\n                    try {\r\n                        const progressResponse = await axios.get(`${API_BASE}/api/tasks/${taskId}/progress`);\r\n                        if (progressResponse.data.status === 'success') {\r\n                            setProcessingProgress(progressResponse.data.progress);\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('获取处理进度失败:', error);\r\n                    }\r\n                    \r\n                    if (data.status === 'completed') {\r\n                        dispatch({ type: 'SUCCESS', payload: data.results });\r\n                        return;\r\n                    } else if (data.status === 'failed') {\r\n                        throw new Error(data.error || '处理失败');\r\n                    }\r\n                    \r\n                    setTimeout(() => pollResult(taskId), 2000);\r\n                } catch (error) {\r\n                    console.error('轮询错误:', error);\r\n                    dispatch({ type: 'ERROR', payload: error.message });\r\n                }\r\n            };\r\n\r\n            pollResult(response.data.task_id);\r\n        } catch (error) {\r\n            console.error('上传错误:', error);\r\n            if (error.response) {\r\n                console.error('错误响应:', error.response.data);\r\n                dispatch({ type: 'ERROR', payload: error.response.data.error || '上传失败' });\r\n            } else if (error.request) {\r\n                console.error('未收到响应:', error.request);\r\n                dispatch({ type: 'ERROR', payload: '服务器无响应' });\r\n            } else {\r\n                console.error('请求错误:', error.message);\r\n                dispatch({ type: 'ERROR', payload: error.message });\r\n            }\r\n        }\r\n    };\r\n\r\n    // 组件卸载时取消所有请求\r\n    React.useEffect(() => {\r\n        return () => {\r\n            if (cancelTokenSource.current) {\r\n                cancelTokenSource.current.cancel('组件卸载，取消请求');\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    // 返回 JSX 元素，用于渲染组件的 UI\r\n    return (\r\n        <Router>\r\n            <div className=\"app-container\">\r\n                <nav className=\"main-nav\">\r\n                    <Link to=\"/\">首页</Link>\r\n                    <Link to=\"/upload\">上传图像</Link>\r\n                    <Link to=\"/compare\">图像对比</Link>\r\n                    <Link to=\"/data\">数据管理</Link>\r\n                </nav>\r\n\r\n                <main className=\"main-content\">\r\n                    <Routes>\r\n                        <Route path=\"/\" element={\r\n                            <div className=\"home-page\">\r\n                                <h1>MRI图像处理系统</h1>\r\n                                <p>欢迎使用MRI图像处理系统，请选择以下功能：</p>\r\n                                <div className=\"feature-grid\">\r\n                                    <Link to=\"/upload\" className=\"feature-card\">\r\n                                        <h3>上传图像</h3>\r\n                                        <p>上传并处理MRI图像</p>\r\n                                    </Link>\r\n                                    <Link to=\"/compare\" className=\"feature-card\">\r\n                                        <h3>图像对比</h3>\r\n                                        <p>对比原始图像和处理结果</p>\r\n                                    </Link>\r\n                                    <Link to=\"/data\" className=\"feature-card\">\r\n                                        <h3>数据管理</h3>\r\n                                        <p>管理患者数据和报告</p>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        } />\r\n                        \r\n                        <Route path=\"/upload\" element={\r\n                            <div className=\"upload-page\">\r\n                                <h2>上传MRI图像</h2>\r\n                                <div className=\"upload-section\">\r\n                                    <input type=\"file\" onChange={handleFileChange} accept=\".dcm,.nii,.nii.gz\" />\r\n                                    <button onClick={handleUpload} disabled={!selectedFile || state.status === 'uploading'}>\r\n                                        {state.status === 'uploading' ? '上传中...' : '上传'}\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {state.status === 'uploading' && (\r\n                                    <div className=\"progress-section\">\r\n                                        <div className=\"progress-bar\">\r\n                                            <div className=\"progress\" style={{ width: `${state.progress}%` }}></div>\r\n                                        </div>\r\n                                        <div className=\"progress-text\">上传进度: {state.progress}%</div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {state.status === 'processing' && (\r\n                                    <div className=\"progress-section\">\r\n                                        <div className=\"progress-bar\">\r\n                                            <div className=\"progress\" style={{ width: `${processingProgress}%` }}></div>\r\n                                        </div>\r\n                                        <div className=\"progress-text\">处理进度: {processingProgress}%</div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {previewImage && (\r\n                                    <div className=\"preview-section\">\r\n                                        <h3>图像预览</h3>\r\n                                        <img src={previewImage} alt=\"DICOM预览\" className=\"preview-image\" />\r\n                                    </div>\r\n                                )}\r\n\r\n                                {state.error && (\r\n                                    <div className=\"error-message\">\r\n                                        {state.error}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        } />\r\n                        \r\n                        <Route path=\"/compare\" element={\r\n                            <ComparisonView \r\n                                originalImage={selectedFile ? URL.createObjectURL(selectedFile) : null}\r\n                                processedImage={state.result ? `${API_BASE}/uploads/${state.result}` : null}\r\n                            />\r\n                        } />\r\n                        \r\n                        <Route path=\"/data\" element={<DataManager />} />\r\n                    </Routes>\r\n                </main>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\n// 导出 App 组件，以便在其他文件中使用\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}